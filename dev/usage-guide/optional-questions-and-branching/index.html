
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://wayfair-incubator.github.io/columbo/dev/usage-guide/optional-questions-and-branching/">
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.2.3, mkdocs-material-8.2.1">
    
    
      
        <title>Optional Questions & Branching - columbo Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.e8d9bf0c.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.e6a45f82.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../css/mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#only-asking-some-questions" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-component="outdated" hidden>
        <aside class="md-banner md-banner--warning">
          
        </aside>
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="columbo Documentation" class="md-header__button md-logo" aria-label="columbo Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            columbo Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Optional Questions & Branching
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/wayfair-incubator/columbo/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    wayfair-incubator/columbo
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="columbo Documentation" class="md-nav__button md-logo" aria-label="columbo Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    columbo Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/wayfair-incubator/columbo/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    wayfair-incubator/columbo
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Overview
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/" class="md-nav__link">
        Getting Started
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Usage Guide
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Usage Guide" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Usage Guide
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../fundamentals/" class="md-nav__link">
        Fundamentals
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../interactions/" class="md-nav__link">
        Interactions
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Optional Questions & Branching
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Optional Questions & Branching
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#only-asking-some-questions" class="md-nav__link">
    Only Asking Some Questions
  </a>
  
    <nav class="md-nav" aria-label="Only Asking Some Questions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#optional-questions" class="md-nav__link">
    Optional Questions
  </a>
  
    <nav class="md-nav" aria-label="Optional Questions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#providing-an-answer-for-skipped-questions" class="md-nav__link">
    Providing an Answer for Skipped Questions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#branching-paths" class="md-nav__link">
    Branching Paths
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../validators/" class="md-nav__link">
        Validators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../command-line/" class="md-nav__link">
        Command Line Interface
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../why-columbo/" class="md-nav__link">
        Why Columbo?
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../api/" class="md-nav__link">
        Reference
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../development-guide/" class="md-nav__link">
        Development Guide
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../changelog/" class="md-nav__link">
        Changelog
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#only-asking-some-questions" class="md-nav__link">
    Only Asking Some Questions
  </a>
  
    <nav class="md-nav" aria-label="Only Asking Some Questions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#optional-questions" class="md-nav__link">
    Optional Questions
  </a>
  
    <nav class="md-nav" aria-label="Optional Questions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#providing-an-answer-for-skipped-questions" class="md-nav__link">
    Providing an Answer for Skipped Questions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#branching-paths" class="md-nav__link">
    Branching Paths
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
<a href="https://github.com/wayfair-incubator/columbo/edit/main/docs/usage-guide/optional-questions-and-branching.md" title="Edit this page" class="md-content__button md-icon">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
</a>



  <h1>Optional Questions & Branching</h1>

<h2 id="only-asking-some-questions">Only Asking Some Questions</h2>
<p>There are situations where a question should be asked some times, but not all the time. For example, a program that collects
information about a user's pets should not ask the user for the dog's name and breed if the user said they do not have a
dog. The <code>should_ask</code> argument that is present on each question provides a way to achieve this functionality.</p>
<p>Similarly, <code>should_ask</code> can be used to provide branching paths to the user. An example of these branching paths is a
<a href="https://en.wikipedia.org/wiki/Choose_Your_Own_Adventure">Choose Your Own Adventure</a> story. The story provides the reader with choices during the
adventure. These choices introduce diverging paths of interactions that may or may not join at the end.</p>
<div class="admonition warning be careful when skipping a question">
<p class="admonition-title">Warning</p>
<p>By default when <code>columbo</code> skips over a question, the <code>Answers</code> dictionary will <strong>NOT</strong> contain a key-value pair for the
skipped question. If you want a skipped question to have a specific answer when skipped, you can do so using the
<code>value_if_not_asked</code> kwarg as detailed in the section below.</p>
</div>
<h3 id="optional-questions">Optional Questions</h3>
<p>The following is a basic example that has two optional questions that are not asked based on the answer to the first
question.</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">columbo</span>


<span class="k">def</span> <span class="nf">user_has_dog</span><span class="p">(</span><span class="n">answers</span><span class="p">:</span> <span class="n">columbo</span><span class="o">.</span><span class="n">Answers</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">answers</span><span class="p">[</span><span class="s2">&quot;has_dog&quot;</span><span class="p">]</span>


<span class="n">interactions</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">columbo</span><span class="o">.</span><span class="n">Confirm</span><span class="p">(</span><span class="s2">&quot;has_dog&quot;</span><span class="p">,</span> <span class="s2">&quot;Do you have a dog?&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">columbo</span><span class="o">.</span><span class="n">BasicQuestion</span><span class="p">(</span>
        <span class="s2">&quot;dog_name&quot;</span><span class="p">,</span>
        <span class="s2">&quot;What is the name of the dog?&quot;</span><span class="p">,</span>
        <span class="n">should_ask</span><span class="o">=</span><span class="n">user_has_dog</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;Kaylee&quot;</span><span class="p">,</span>
    <span class="p">),</span>
    <span class="n">columbo</span><span class="o">.</span><span class="n">BasicQuestion</span><span class="p">(</span>
        <span class="s2">&quot;dog_breed&quot;</span><span class="p">,</span>
        <span class="s2">&quot;What is the breed of the dog?&quot;</span><span class="p">,</span>
        <span class="n">should_ask</span><span class="o">=</span><span class="n">user_has_dog</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;Basset Hound&quot;</span><span class="p">,</span>
    <span class="p">),</span>
<span class="p">]</span>

<span class="n">user_answers</span> <span class="o">=</span> <span class="n">columbo</span><span class="o">.</span><span class="n">get_answers</span><span class="p">(</span><span class="n">interactions</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">user_answers</span><span class="p">)</span>
</code></pre></div>
<p>If the user accepts the default answers for each of these questions, the output will be:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span><span class="s2">&quot;has_dog&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="s2">&quot;dog_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Kaylee&quot;</span><span class="p">,</span> <span class="s2">&quot;dog_breed&quot;</span><span class="p">:</span> <span class="s2">&quot;Basset Hound&quot;</span><span class="p">}</span>
</code></pre></div>
<p>However, when the user answers the first question with "no", the output will be:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span><span class="s2">&quot;has_dog&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">}</span>
</code></pre></div>
<p>Note that the <code>Answers</code> dictionary in the previous example has an answer to only the first question (there are no answers for the skipped questions).
The next section shows how to provide an answer for a skipped question.</p>
<h4 id="providing-an-answer-for-skipped-questions">Providing an Answer for Skipped Questions</h4>
<p>To provide a specific answer used when a user skips a question, use the <code>value_if_not_asked</code> kwarg:</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">columbo</span>


<span class="k">def</span> <span class="nf">user_has_dog</span><span class="p">(</span><span class="n">answers</span><span class="p">:</span> <span class="n">columbo</span><span class="o">.</span><span class="n">Answers</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">answers</span><span class="p">[</span><span class="s2">&quot;has_dog&quot;</span><span class="p">]</span>


<span class="n">interactions</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">columbo</span><span class="o">.</span><span class="n">Confirm</span><span class="p">(</span><span class="s2">&quot;has_dog&quot;</span><span class="p">,</span> <span class="s2">&quot;Do you have a dog?&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">columbo</span><span class="o">.</span><span class="n">BasicQuestion</span><span class="p">(</span>
        <span class="s2">&quot;dog_name&quot;</span><span class="p">,</span>
        <span class="s2">&quot;What is the name of the dog?&quot;</span><span class="p">,</span>
        <span class="n">should_ask</span><span class="o">=</span><span class="n">user_has_dog</span><span class="p">,</span>
<span class="hll">        <span class="n">value_if_not_asked</span><span class="o">=</span><span class="s2">&quot;n/a&quot;</span><span class="p">,</span>
</span>        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;Kaylee&quot;</span><span class="p">,</span>
    <span class="p">),</span>
    <span class="n">columbo</span><span class="o">.</span><span class="n">BasicQuestion</span><span class="p">(</span>
        <span class="s2">&quot;dog_breed&quot;</span><span class="p">,</span>
        <span class="s2">&quot;What is the breed of the dog?&quot;</span><span class="p">,</span>
        <span class="n">should_ask</span><span class="o">=</span><span class="n">user_has_dog</span><span class="p">,</span>
<span class="hll">        <span class="n">value_if_not_asked</span><span class="o">=</span><span class="s2">&quot;n/a&quot;</span><span class="p">,</span>
</span>        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;Basset Hound&quot;</span><span class="p">,</span>
    <span class="p">),</span>
<span class="p">]</span>

<span class="n">user_answers</span> <span class="o">=</span> <span class="n">columbo</span><span class="o">.</span><span class="n">get_answers</span><span class="p">(</span><span class="n">interactions</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">user_answers</span><span class="p">)</span>
</code></pre></div>
<p>If the user answers the first question with "no", the output will now be:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span><span class="s2">&quot;has_dog&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s2">&quot;dog_name&quot;</span><span class="p">:</span> <span class="s2">&quot;n/a&quot;</span><span class="p">,</span> <span class="s2">&quot;dog_breed&quot;</span><span class="p">:</span> <span class="s2">&quot;n/a&quot;</span><span class="p">}</span>
</code></pre></div>
<p>Columbo will not ask the user for a dog name or breed, but the answers will have the values provided with the <code>value_if_not_asked</code> kwarg.</p>
<h3 id="branching-paths">Branching Paths</h3>
<p>A question that is part of a branching path is very similar to an optional question. It is still a question where
the <code>should_ask</code> function was provided to determine if the question should be skipped or not. The branching aspect comes from there being at
least two sets of optional questions. Each set has a <code>should_ask</code> argument that checks for a different state for a
single answer. In this way, only one of the sets of optional questions will ever be asked.</p>
<p>The following is an example of a short story that has two divergent paths that join at the end. Each individual question
isn't different from the optional questions <a href="#optional-questions">demonstrated above</a>. The program achieves the
branching paths by supplying different <code>should_ask</code> values that will never both evaluate to <code>True</code>.</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">columbo</span>


<span class="k">def</span> <span class="nf">went_left</span><span class="p">(</span><span class="n">answers</span><span class="p">:</span> <span class="n">columbo</span><span class="o">.</span><span class="n">Answers</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">answers</span><span class="p">[</span><span class="s2">&quot;which_door&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;left&quot;</span>


<span class="k">def</span> <span class="nf">went_right</span><span class="p">(</span><span class="n">answers</span><span class="p">:</span> <span class="n">columbo</span><span class="o">.</span><span class="n">Answers</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">answers</span><span class="p">[</span><span class="s2">&quot;which_door&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;right&quot;</span>


<span class="k">def</span> <span class="nf">outcome</span><span class="p">(</span><span class="n">answers</span><span class="p">:</span> <span class="n">columbo</span><span class="o">.</span><span class="n">Answers</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">answers</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;has_key&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;You try the the key on the lock. With a little jiggling, it finally opens. You open the gate and leave.&quot;</span>
    <span class="k">if</span> <span class="n">answers</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;has_hammer&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;You hit the lock with the hammer and it falls to the ground. You open the gate and leave.&quot;</span>
    <span class="k">return</span> <span class="p">(</span>
        <span class="s2">&quot;Unable to open the gate yourself, you yell for help. A farmer in the nearby field hears you. &quot;</span>
        <span class="s2">&quot;He reaches into his pocket and pulls out a key to unlock the gate and open it. &quot;</span>
        <span class="s2">&quot;As you walk through the archway he says, &quot;</span>
        <span class="s1">&#39;&quot;What I don</span><span class="se">\&#39;</span><span class="s1">t understand is how you got in there. This is the only key.&quot;&#39;</span>
    <span class="p">)</span>


<span class="n">interactions</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">columbo</span><span class="o">.</span><span class="n">Echo</span><span class="p">(</span>
        <span class="s2">&quot;You wake up in a room that you do not recognize. &quot;</span>
        <span class="s2">&quot;In the dim light, you can see a large door to the left and a small door to the right.&quot;</span>
    <span class="p">),</span>
    <span class="n">columbo</span><span class="o">.</span><span class="n">Choice</span><span class="p">(</span>
        <span class="s2">&quot;which_door&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Which door do you walk through?&quot;</span><span class="p">,</span>
        <span class="n">options</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;left&quot;</span><span class="p">,</span> <span class="s2">&quot;right&quot;</span><span class="p">],</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;left&quot;</span><span class="p">,</span>
    <span class="p">),</span>
    <span class="n">columbo</span><span class="o">.</span><span class="n">Confirm</span><span class="p">(</span>
        <span class="s2">&quot;has_key&quot;</span><span class="p">,</span>
        <span class="s2">&quot;You step into a short hallway and the door closes behind you, refusing to open again. &quot;</span>
        <span class="s2">&quot;As you walk down the hallway, there is a small side table with a key on it.</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="s2">&quot;Do you pick up the key before going through the door at the other end?&quot;</span><span class="p">,</span>
        <span class="n">should_ask</span><span class="o">=</span><span class="n">went_left</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">),</span>
    <span class="n">columbo</span><span class="o">.</span><span class="n">Confirm</span><span class="p">(</span>
        <span class="s2">&quot;has_hammer&quot;</span><span class="p">,</span>
        <span class="s2">&quot;You step into smaller room and the door closes behind, refusing to open again. &quot;</span>
        <span class="s2">&quot;The room has a single door on the opposite side of the room and a work bench with a hammer on it.</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="s2">&quot;Do you pick up the hammer before going through the door at the other side?&quot;</span><span class="p">,</span>
        <span class="n">should_ask</span><span class="o">=</span><span class="n">went_right</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">),</span>
    <span class="n">columbo</span><span class="o">.</span><span class="n">Echo</span><span class="p">(</span>
        <span class="s2">&quot;You enter a small courtyard with high walls. There is an archway that would allow you to go free, &quot;</span>
        <span class="s2">&quot;but the gate is locked.&quot;</span>
    <span class="p">),</span>
    <span class="n">columbo</span><span class="o">.</span><span class="n">Echo</span><span class="p">(</span><span class="n">outcome</span><span class="p">),</span>
<span class="p">]</span>

<span class="n">user_answers</span> <span class="o">=</span> <span class="n">columbo</span><span class="o">.</span><span class="n">get_answers</span><span class="p">(</span><span class="n">interactions</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">user_answers</span><span class="p">)</span>
</code></pre></div>
<p>The import thing to note in the example above is that the <code>Answers</code> dictionary can have a key-value pair for
<code>has_key</code> or <code>has_hammer</code>, not both.</p>

              
            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../interactions/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Interactions" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Interactions
            </div>
          </div>
        </a>
      
      
        
        <a href="../validators/" class="md-footer__link md-footer__link--next" aria-label="Next: Validators" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Validators
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../assets/javascripts/workers/search.bd0b6b67.min.js", "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.8aa65030.min.js"></script>
      
    
  </body>
</html>